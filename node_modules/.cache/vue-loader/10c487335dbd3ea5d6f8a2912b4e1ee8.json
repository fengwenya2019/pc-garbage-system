{"remainingRequest":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\src\\components\\Publish.vue?vue&type=style&index=0&id=713aaf8f&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\src\\components\\Publish.vue","mtime":1588690793131},{"path":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\丰文雅\\Desktop\\丰文雅的毕设\\pc-garbage-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.page-publish {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 40px;\r\n}\r\n.form-box {\r\n  width: 800px;\r\n  height: 600px;\r\n  /* background-color: red; */\r\n  padding: 20px 40px;\r\n}\r\n\r\n.form-box h1 {\r\n  margin-bottom: 20px;\r\n}\r\n",{"version":3,"sources":["Publish.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Publish.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"page-publish\">\r\n    <div class=\"form-box\">\r\n      <h1>发布报告</h1>\r\n      <Form :model=\"report\" label-position=\"left\" :label-width=\"100\">\r\n        <!-- <FormItem label=\"发布时间\">\r\n          <Input v-model=\"report.greendailyinfoUploadtime\"></Input>\r\n        </FormItem> -->\r\n        <FormItem label=\"报告类型\">\r\n          <Input v-model=\"report.greendailyinfoDescription\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"报告题目\">\r\n          <Input v-model=\"report.greendailyinfoTitle\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"报告内容\">\r\n          <Input type=\"textarea\" rows=\"10\" v-model=\"report.greendailyinfoText\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"发布人\">\r\n          <Input v-model=\"report.greendailyinfoAuthor\"></Input>\r\n        </FormItem>\r\n        <Button type=\"primary\" @click=\"publish()\">发布</Button>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      report: {\r\n        // greendailyinfoUploadtime: \"\",\r\n        greendailyinfoDescription: \"\",\r\n        greendailyinfoTitle: \"\",\r\n        greendailyinfoText: \"\",\r\n        greendailyinfoAuthor: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    publish() {\r\n      const param = {\r\n        greendailyinfoDescription: this.report.greendailyinfoDescription,\r\n        greendailyinfoTitle: this.report.greendailyinfoTitle,\r\n        greendailyinfoText: this.report.greendailyinfoText,\r\n        greendailyinfoAuthor: this.report.greendailyinfoAuthor\r\n      }\r\n      // this.$store.dispatch(\"addReport\",{param:param,that:this});\r\n      const base = \"/laji\"\r\n        axios.post(base + \"/laji/green/add\",{\r\n            'greendailyinfoDescription': param.greendailyinfoDescription,\r\n            'greendailyinfoTitle': param.greendailyinfoTitle,\r\n            'greendailyinfoText': param.greendailyinfoText,\r\n            'greendailyinfoAuthor': param.greendailyinfoAuthor,\r\n        }).then((res) => {\r\n            if(res.data.code === 100){\r\n                this.$Message.success('发布成功');\r\n                this.report = {}\r\n                this.$router.push({\r\n                  path: \"/home/history\"\r\n                });\r\n                this.$store.dispatch('queryReportList')\r\n            }else{\r\n                this.$Message.success('发布失败');\r\n            }\r\n        }).catch((err) => {\r\n            this.$Message.success('网络错误');\r\n        })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page-publish {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 40px;\r\n}\r\n.form-box {\r\n  width: 800px;\r\n  height: 600px;\r\n  /* background-color: red; */\r\n  padding: 20px 40px;\r\n}\r\n\r\n.form-box h1 {\r\n  margin-bottom: 20px;\r\n}\r\n</style>"]}]}